{% extends 'base.html' %}
{% load static %}

{% block main-content %}
<header class="container">
  <div class="level">
    <div class="level-left">
      <p class="title">{{ object.name }}</p>
    </div>
    <div class="level-right">
      <div class="buttons">
        <button id="edit" class="button is-link">Edit</button>
        <button id="delete" class="button is-danger">Delete</button>
      </div>
    </div>
  </div>
  <p class="subtitle">{{ object.description }}</p>
</header>
{% include 'components/_content.html' with list="Topics" new="New Topic" %}
{% endblock %}

{% block scripts %}
<script src="{% static 'scripts/tab.js' %}"></script>
<script>
  let token = '{% csrf_token %}'
  let form = `{% csrf_token %}
  {% for field in form %}
  <div class="field">
    <label class="label" for="{{ field.id_for_label }}">{{ field.label }}</label>
    <div class="control">
      <input id="{{ field.id_for_label }}" name="{{ field.name }}" class="input" type="{{ field.widget_type }}" required="">
    </div>
  </div>
  {% endfor %}`
  let id = "{{ object.pk }}";
  tab(`/garden/${id}/`, 'topics', form, `/garden/${id}/`, id=id, token);
</script>
{% endblock %}